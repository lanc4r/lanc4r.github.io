<!DOCTYPE html>




<html class="theme-next pisces" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
    
  
  <link href="/css/fancybox.css" rel="stylesheet" type="text/css">




  
  
  
  

  

  

  

  

  

  
    

    
  

  
    
    
    <link href="//fonts.cat.net/css?family=Sigmar One:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






  

<link href="/css/font-awesome.css" rel="stylesheet" type="text/css">



  

<link href="/css/share.css" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=0.0.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=0.0.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=0.0.4">


  <link rel="mask-icon" href="/images/logo.svg?v=0.0.4" color="#222">





  <meta name="keywords" content="信安,隐写术,">






<link rel="stylesheet" type="text/css" href="/css/csshake.css">
<link rel="stylesheet" type="text/css" href="/css/animated.css">
<link rel="stylesheet" type="text/css" href="/css/APlayer.min.css">




<meta name="description" content="前言大部分内容是老博客迁移过来的，记录了之前做 Misc 类题目的总结。">
<meta name="keywords" content="信安,隐写术">
<meta property="og:type" content="article">
<meta property="og:title" content="隐写术简介(一)">
<meta property="og:url" content="http://yoursite.com/2019/06/19/隐写术简介(一)/index.html">
<meta property="og:site_name" content="陷陣之誌，有死無生">
<meta property="og:description" content="前言大部分内容是老博客迁移过来的，记录了之前做 Misc 类题目的总结。">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-bg.jpg">
<meta property="og:image" content="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-1.png">
<meta property="og:image" content="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-2.png">
<meta property="og:image" content="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-3.png">
<meta property="og:image" content="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-4.png">
<meta property="og:image" content="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-6.png">
<meta property="og:image" content="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-7.png">
<meta property="og:image" content="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-8.png">
<meta property="og:image" content="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-9.png">
<meta property="og:image" content="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-10.png">
<meta property="og:image" content="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-11.png">
<meta property="og:image" content="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-12.png">
<meta property="og:updated_time" content="2019-06-18T16:23:57.218Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="隐写术简介(一)">
<meta name="twitter:description" content="前言大部分内容是老博客迁移过来的，记录了之前做 Misc 类题目的总结。">
<meta name="twitter:image" content="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-bg.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '0.0.4',
    sidebar: {"position":"right","display":"always","offset":52,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    since: '5/25/2018 08:30:00',
    onlineAPI: '',
    site: {
      title: '陷陣之誌，有死無生',
      subtitle: '',
      author: 'Lanc4r'
    },
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    leancloud: {
      enable: false,
      appID: '',
      appKey: ''
    },
    favicon: {
      visibilitychange: true,
      narmal: '/images/favicon.ico',
      hidden: '/images/failure.ico',
      show_text: '(/≧▽≦/)咦！又好了！',
      hide_text: '(●—●)喔哟，崩溃啦！'
    }
  };
</script>



  
    <script type="text/javascript" src="/js/jquery.js"></script>


<script type="text/javascript" src="/js/APlayer.min.js"></script>



  <link rel="canonical" href="http://yoursite.com/2019/06/19/隐写术简介(一)/">





  <title>隐写术简介(一) | 陷陣之誌，有死無生</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-48084758-7', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default" class="theme-darling">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-首页">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-归档">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-分类">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-location-arrow"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-标签">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-友链">
          <a href="/friends/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-mars"></i> <br>
            
            友链
          </a>
        </li>
      
        
        <li class="menu-item menu-item-关于">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-paw"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-听歌">
          <a href="/music/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-music"></i> <br>
            
            听歌
          </a>
        </li>
      

      
      <li class="menu-item search">
          <form class="local-search-form">
            <input name="keyword" type="text" class="local-search-input" id="local-search-input" placeholder="站内搜索">
            <button type="submit" class="local-search-submit"><i class="fa fa-search"></i></button>
          </form>
          <div id="local-search-result" class="local-search-result-cls"></div>
      </li>
    </ul>
  

  
</nav>

<div class="site-brand-wrapper" style="background-image: url('https://view.moezx.cc/images/2019/07/13/lanc4r-newlifebg.png')">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <div class="brand">
        <span class="logo-line-before"><i></i></span>
        <div class="site-title">
          <div id="animate" class="animate">
            <span>陷</span><span>陣</span><span>之</span><span>誌</span><span>，</span><span>有</span><span>死</span><span>無</span><span>生</span>
          </div>
          <div id="guide" class="guide">
            <span>陷</span><span>陣</span><span>之</span><span>誌</span><span>，</span><span>有</span><span>死</span><span>無</span><span>生</span>
          </div>
        </div>
        <span class="logo-line-after"><i></i></span>
      </div>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>
<div class="site-master" itemprop="author" itemscope="" itemtype="http://schema.org/Person" style="display: block;">
    <img id="avatar-img" class="site-master-avatar" itemprop="image" src="https://view.moezx.cc/images/2019/05/01/lanc4rbg2.jpg" alt="Lanc4r">
    <h2 class="site-master-description shake" itemprop="description">
        <span style="color:#00a7e0">Write</span> <span style="color:#00a7e0">the</span> <span style="color:#000">Code,</span> <span style="color:#000">Change</span> <span style="color:#ff3f1a">the</span> <span style="color:#ff3f1a">World.</span>
    </h2>
</div>


 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-date">
			<div class="post-month">06月</div>
			<div class="post-day">19</div>
	</div>
  
  <div class="post-badge">
    
      <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
        <a href="/categories/流下了没有技术的泪水/" itemprop="url" rel="index">
          <span itemprop="name">流下了没有技术的泪水</span>
        </a>
      </span>
    
      <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
        <a href="/categories/流下了没有技术的泪水/Web狗的自我修养/" itemprop="url" rel="index">
          <span itemprop="name">Web狗的自我修养</span>
        </a>
      </span>
    
  </div>
  

  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/19/隐写术简介(一)/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lanc4r">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/DIYgod.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陷陣之誌，有死無生">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">隐写术简介(一)</h1>
        

        <div class="post-meta">
          <span class="post-time" style="color: #00a7e0;">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-06-19T00:30:05+08:00">
                2019-06-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">•</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/流下了没有技术的泪水/" itemprop="url" rel="index">
                    <span itemprop="name" style="color: #ff3f1a;">流下了没有技术的泪水</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/流下了没有技术的泪水/Web狗的自我修养/" itemprop="url" rel="index">
                    <span itemprop="name" style="color: #ff3f1a;">Web狗的自我修养</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-bg.jpg" alt=""></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大部分内容是老博客迁移过来的，记录了之前做 Misc 类题目的总结。</p>
<a id="more"></a>
<p>目前只授人以鱼而非授人以渔(主要是不懂原理)，所以权当趣味类文章观看吧。当前是第一期，以后积累到更多的姿势时会考虑继续分享。</p>
<h1 id="图片隐写"><a href="#图片隐写" class="headerlink" title="图片隐写"></a>图片隐写</h1><p>这里以图种为例，这玩意儿是啥就不介绍了，常用作老司机发车的启动燃料…</p>
<p>你可能遇到过这样的情况：老司机为了避过河蟹，发了一张符合当代社会主义核心价值观的图片，广大网友将图片保存下来，然后改后缀为 <strong>zip</strong> 或者是 <strong>rar</strong>，解压即可得到福利</p>
<p><img src="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-1.png" alt=""></p>
<h2 id="如何操作"><a href="#如何操作" class="headerlink" title="如何操作"></a>如何操作</h2><ol>
<li>先将需要保存的东西压缩为 <strong>zip</strong> 文件</li>
<li>将 图片数据 和 <strong>zip</strong>文件数据拼接起来<ul>
<li>例如 <strong>Win</strong> 的 <code>copy</code> 命令，加上二进制拼接参数 <code>/b</code>，比如 : <code>copy /b 1.jpg+2.zip 3.jpg</code>，此时生成的 <strong>3.jpg</strong> 就是老司机口中的图种了</li>
</ul>
</li>
</ol>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>首先可以看看 <code>copy</code> 命令的解释: <a href="https://www.cnblogs.com/KevinJasmine/p/4159234.html" target="_blank" rel="noopener">dos文件(夹)复制命令：copy和xcopy</a></p>
<p>还是以 <code>copy /b 1.jpg+2.zip 3.jpg</code> 命令来说，当命令执行之后，会<strong>将 2.zip 的二进制内容拼接到 1.jpg 的二进制内容后</strong>，我们使用 <strong>16进制</strong> 查看可以发现，在 <strong>jpg</strong> 文件的结尾处(FF D9 是 jpg 文件的结尾标识)赫然出现 <strong>zip</strong> 文件的文件头 (50 4B 03 04)</p>
<p><img src="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-2.png" alt=""></p>
<p>关于 <strong>zip</strong> 文件格式在后面讲 <strong>zip伪加密</strong>的时候再聊聊~</p>
<h3 id="为什么图片数据拼接了其他数据后还能正常显示"><a href="#为什么图片数据拼接了其他数据后还能正常显示" class="headerlink" title="为什么图片数据拼接了其他数据后还能正常显示"></a>为什么图片数据拼接了其他数据后还能正常显示</h3><p>因为整个文件的文件头是 <strong><big>FF D8</big></strong>，所以在最开始解析的时候会把其当做一个 <strong>jpg </strong>文件来解析，于是当其遇到结尾标识(<strong><big>FF D9</big></strong>) 的时候就会以为整个图片的数据解析完成，后面的数据就不会再次解析，于是图片显示正常。</p>
<h3 id="为什么生成的图片修改了后缀之后能正常解压"><a href="#为什么生成的图片修改了后缀之后能正常解压" class="headerlink" title="为什么生成的图片修改了后缀之后能正常解压"></a>为什么生成的图片修改了后缀之后能正常解压</h3><p>我不知道，有兴趣的同学可以自己去了解哒，不过我猜测在修改后缀名的时候，系统已经成功找到了 <strong>zip</strong> 文件的文件头，是不是这时候已经把前面图片的数据给自动“忽略掉了”，所以<strong>在解析的时候就会直接从 zip 文件的数据开始解析，以至 zip 文件正常解析</strong>。</p>
<h2 id="如何判别是否隐藏数据"><a href="#如何判别是否隐藏数据" class="headerlink" title="如何判别是否隐藏数据"></a>如何判别是否隐藏数据</h2><p>如何判断一个文件后是否藏了另一些数据？注意这里不单单指一个图片后面隐藏信息，所有文件都可以通过上面的方式进行组合生成新的文件。</p>
<p>这里推荐一个工具叫做 <a href="https://github.com/ReFirmLabs/binwalk" target="_blank" rel="noopener">binwalk</a>，他可以分析当前文件是通过几个文件拼接而成，并且能帮你将其分离开。</p>
<p><img src="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-3.png" alt=""></p>
<h1 id="音频隐写"><a href="#音频隐写" class="headerlink" title="音频隐写"></a>音频隐写</h1><p>之前大学时候做题遇到的，同样不知道原理，感兴趣的同学可以自己去网上找找资料~</p>
<p>音频隐写其实其实就是把数据隐藏在音频里，这里我推荐一个工具 <a href="https://www.petitcolas.net/steganography/mp3stego/" target="_blank" rel="noopener">MP3Stego</a>，可以隐藏和解密，Like this:</p>
<p><img src="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-4.png" alt=""></p>
<p>工具地址: <a href="https://pan.baidu.com/s/19iDLVsfe0orpTWFYFT3mNQ" target="_blank" rel="noopener">百度云连接</a>，提取码 v0q5</p>
<h1 id="文件流隐写"><a href="#文件流隐写" class="headerlink" title="文件流隐写"></a>文件流隐写</h1><p>同样也是之前做题的时候遇到的，详情请参考文章：<a href="https://blog.csdn.net/ymlbright/article/details/21005015" target="_blank" rel="noopener">隐写:NTFS STREAM</a></p>
<p>关键在于使用 <code>echo</code> 和 <code>type</code> 命令 在 <strong>NTFS</strong> 文件流中隐藏信息，下面我们看一个栗子，执行如下命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo iloveyou &gt;&gt; a.txt:love.txt</span><br></pre></td></tr></table></figure>
<p>这时候就会生成一个 <strong>a.txt</strong> 文件(如果之前存在 <strong>a.txt</strong> 文件，文件本身的内容不会有变化的)</p>
<p>接着我们<strong>打开 a.txt 文件发现其中没有任何内容</strong>，那我们通过 <code>echo</code> 命令写入的 <strong>iloveyou</strong> 到底上哪去了呢？</p>
<p>此时执行命令：<code>notepad a.txt:love.txt</code></p>
<p><img src="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-6.png" alt=""></p>
<p>此时打开了一个叫做 <strong>a.txt:love.txt</strong> 文件，此时我们隐藏的数据就被显示了出来。</p>
<h2 id="其余格式文件也可以完成文件流隐写"><a href="#其余格式文件也可以完成文件流隐写" class="headerlink" title="其余格式文件也可以完成文件流隐写"></a>其余格式文件也可以完成文件流隐写</h2><p>这里以图片为例</p>
<p>执行命令：<code>type enhe.jpg &gt;&gt; saber.jpg:love.jpg</code></p>
<p>分别使用 <code>mspaint</code> 打开 <strong>saber.jpg</strong> 和 <strong>saber.jpg:love.jpg</strong> 对比效果：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mspaint saber.jpg</span><br><span class="line">mspaint saber.jpg:love.jpg</span><br></pre></td></tr></table></figure>
<p><img src="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-7.png" alt=""></p>
<h3 id="压缩文件流数据的注意事项"><a href="#压缩文件流数据的注意事项" class="headerlink" title="压缩文件流数据的注意事项"></a>压缩文件流数据的注意事项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1.流文件不能直接通过网络传输，也不能使用WinRAR进行普通压缩后传输，那样会丢失信息，必须在压缩时选择</span><br><span class="line">高级选项里的“保存文件流数据“才行</span><br><span class="line">(这也难怪这次做题的时候只拷贝 解压后的数据文件无法扫描到流文件...)</span><br><span class="line"></span><br><span class="line">2.制作好的流文件大小跟用来隐藏原文件的那个文件是一样的，但压缩后的文件还是包括了隐藏文件的大小，这</span><br><span class="line">说明NTFS文件流仍然会占用磁盘空间，这是判断文件是否包含流文件的重要方法，对比解压后的文件大小和压缩</span><br><span class="line">包的大小，如果前者小于后者那就说明这个压缩包里有猫腻</span><br><span class="line"></span><br><span class="line">3.流文件必须要在NTFS分区下才能运行，一旦放到其他的文件系统分区中，即使再放回来，也会造成NTFS数据流的丢失</span><br></pre></td></tr></table></figure>
<p><img src="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-8.png" alt=""></p>
<h2 id="如何查看文件中隐藏的文件流数据"><a href="#如何查看文件中隐藏的文件流数据" class="headerlink" title="如何查看文件中隐藏的文件流数据"></a>如何查看文件中隐藏的文件流数据</h2><p>前面两个例子中我们都知道隐藏数据的文件为 <strong>a.txt:love.txt</strong>、<strong>saber.jpg:love.jpg</strong>，那么当我们不知道的时候呢，这时候我们如何知道当前文件是否隐藏了文件流的数据呢，这里介绍一个工具 <a href="https://www.nirsoft.net/utils/alternate_data_streams.html" target="_blank" rel="noopener">alternatestreamview</a></p>
<p>有兴趣的可以戳这里下载：<a href="https://pan.baidu.com/s/1dFBQVeT" target="_blank" rel="noopener">百度云连接</a></p>
<h3 id="运行截图"><a href="#运行截图" class="headerlink" title="运行截图"></a>运行截图</h3><p><img src="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-9.png" alt=""></p>
<h3 id="可能的用途"><a href="#可能的用途" class="headerlink" title="可能的用途"></a>可能的用途</h3><p>就在我介绍的时候我突然想到一个用途，比如眼下你准备追求你的 女神/男神，你可以在开始阶段，定期地分享给 她/他 一些好看的图，或是整理好的文章等等，其中就可以通过这样的方式写入你准备好的数据。</p>
<p>等到你告白的那天，你告诉对方：“还记得从我们相识起我分享你的东西吗，可别小看它们哦，它们包含着我清晨见到的阳光，中午看到的白云，傍晚遇到的微风，包含着我这段时间每天都想和你说的话，不信我指给你看！”</p>
<p>(别想了，HL 你个菜鸡还想要什么女朋友)</p>
<h1 id="HTML-隐写"><a href="#HTML-隐写" class="headerlink" title="HTML 隐写"></a>HTML 隐写</h1><p>简单说就是在一个页面上藏着隐藏信息，详细信息请查看 <a href="http://fog.misty.com/perry/ccs/snow/snow/snow.html" target="_blank" rel="noopener">Snow web-page encryption/decryption</a></p>
<p><img src="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-10.png" alt=""></p>
<h1 id="ZIP-伪加密"><a href="#ZIP-伪加密" class="headerlink" title="ZIP 伪加密"></a>ZIP 伪加密</h1><p><strong>ZIP</strong> 伪加密其实是通过<strong>手动修改文件的 压缩源文件目录区 的加密标识位，来让本来没有被加密的 ZIP 文件在解压的时候提示需要密码</strong>。这里多说一点，如果你真的为 <strong>ZIP</strong> 解压设置了密码，通过修改加密标识跳过密码是行不通的….</p>
<p>所以<strong>伪加密只能让本来没有密码的 ZIP文件伪造出一种加密的错觉，但不能绕过已经加密后的 ZIP 文件</strong>。</p>
<h2 id="ZIP-文件格式"><a href="#ZIP-文件格式" class="headerlink" title="ZIP 文件格式"></a>ZIP 文件格式</h2><h3 id="首先是压缩源文件数据区"><a href="#首先是压缩源文件数据区" class="headerlink" title="首先是压缩源文件数据区"></a>首先是压缩源文件数据区</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">50 4B 03 04：这是头文件标记（0x04034b50） </span><br><span class="line">14 00：解压文件所需 pkware 版本 </span><br><span class="line">00 00：全局方式位标记（有无加密） </span><br><span class="line">08 00：压缩方式 </span><br><span class="line">5A 7E：最后修改文件时间 </span><br><span class="line">F7 46：最后修改文件日期 </span><br><span class="line">16 B5 80 14：CRC-32校验（1480B516） </span><br><span class="line">19 00 00 00：压缩后尺寸（25） </span><br><span class="line">17 00 00 00：未压缩尺寸（23） </span><br><span class="line">07 00：文件名长度 </span><br><span class="line">00 00：扩展记录长度</span><br></pre></td></tr></table></figure>
<h3 id="紧接着是压缩源文件目录区"><a href="#紧接着是压缩源文件目录区" class="headerlink" title="紧接着是压缩源文件目录区"></a>紧接着是压缩源文件目录区</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">50 4B 01 02：目录中文件文件头标记(0x02014b50) </span><br><span class="line">3F 00：压缩使用的 pkware 版本 </span><br><span class="line">14 00：解压文件所需 pkware 版本 </span><br><span class="line">00 00：全局方式位标记（有无加密，这个更改这里进行伪加密，改为09 00打开就会提示有密码了） </span><br><span class="line">08 00：压缩方式 </span><br><span class="line">5A 7E：最后修改文件时间 </span><br><span class="line">F7 46：最后修改文件日期 </span><br><span class="line">16 B5 80 14：CRC-32校验（1480B516） </span><br><span class="line">19 00 00 00：压缩后尺寸（25） </span><br><span class="line">17 00 00 00：未压缩尺寸（23） </span><br><span class="line">07 00：文件名长度 </span><br><span class="line">24 00：扩展字段长度 </span><br><span class="line">00 00：文件注释长度 </span><br><span class="line">00 00：磁盘开始号 </span><br><span class="line">00 00：内部文件属性 </span><br><span class="line">20 00 00 00：外部文件属性 </span><br><span class="line">00 00 00 00：局部头部偏移量</span><br></pre></td></tr></table></figure>
<h3 id="压缩源文件目录结束标识"><a href="#压缩源文件目录结束标识" class="headerlink" title="压缩源文件目录结束标识"></a>压缩源文件目录结束标识</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">50 4B 05 06：目录结束标记 </span><br><span class="line">00 00：当前磁盘编号 </span><br><span class="line">00 00：目录区开始磁盘编号 </span><br><span class="line">01 00：本磁盘上纪录总数 </span><br><span class="line">01 00：目录区中纪录总数 </span><br><span class="line">59 00 00 00：目录区尺寸大小 </span><br><span class="line">3E 00 00 00：目录区对第一张磁盘的偏移量 </span><br><span class="line">00 00 1A：ZIP 文件注释长度</span><br></pre></td></tr></table></figure>
<p>我们新建一个 <strong>ZIP</strong>文件发现默认压缩源文件目录区的加密标识是 <code>00 00</code>，这里我测试了一下貌似<strong>只有前面一个字节才能控制加密，并且是单数表示加密，偶数表示不加密</strong>，例如：</p>
<p><code>01 00</code>、<code>03 02</code>、<code>05 02</code>… 表示加密<br><code>00 00</code>、<code>02 01</code>、<code>04 01</code>…. 表示解密</p>
<p>这里我修改一个文件的加密标识位 <code>01 00</code>：</p>
<p><img src="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-11.png" alt=""></p>
<p><strong>这时候再次解压文件就提示需要密码了</strong></p>
<p><img src="https://view.moezx.cc/images/2019/06/19/lanc4r-yinxie1-12.png" alt=""></p>
<h1 id="REF"><a href="#REF" class="headerlink" title="REF"></a>REF</h1><p><a href="https://blog.csdn.net/etf6996/article/details/51925383" target="_blank" rel="noopener">实验吧/隐写术/小家伙挺可爱</a><br><a href="https://blog.csdn.net/ymlbright/article/details/21005015" target="_blank" rel="noopener">隐写:NTFS STREAM</a></p>
<h1 id="随笔"><a href="#随笔" class="headerlink" title="随笔"></a>随笔</h1><p>6.18 换了一个手机，开心~</p>

      
    </div>
    
    
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/信安/" rel="tag"># 信安</a>
          
            <a href="/tags/隐写术/" rel="tag"># 隐写术</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/06/16/安利一款 PPT 制作工具/" rel="next" title="安利一款 PPT 制作工具">
                <i class="fa fa-chevron-left"></i> 安利一款 PPT 制作工具
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/06/26/数据库姿势解锁 —— 索引简介/" rel="prev" title="数据库姿势解锁 —— 索引简介">
                数据库姿势解锁 —— 索引简介 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zNjkxNy8xMzQ1Mw=="></div>
    </div>

  





  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  













        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element shake-hard" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://view.moezx.cc/images/2019/05/01/lanc4rbg1.jpg" alt="Lanc4r">
            
              <p class="site-author-name" itemprop="name"><span style="opacity:.2;">咸鱼</span>Lanc4r</p>
              <p class="site-description motion-element" itemprop="description">你看见我的甜甜圈了么？</p>
          </div>

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/lanc4r" target="_blank" title="GitHub" data-balloon="GitHub" data-balloon-pos="up">
                    
                      <i class="fa fa-fw fa-github"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://github.com/lanc4r" target="_blank" title="微博" data-balloon="微博" data-balloon-pos="up">
                    
                      <i class="fa fa-fw fa-weibo"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="/images/qq-g.jpg" target="_blank" title="QQ" data-balloon="QQ" data-balloon-pos="up">
                    
                      <i class="fa fa-fw fa-qq"></i></a>
                </span>
              
            
          </div>

          

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">57</span>
                  <span class="site-state-item-name" style="color: #00a7e0" ;="">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">30</span>
                  <span class="site-state-item-name" style="color: #ff3f1a;">分类</span>
                </a>
              </div>
            
            

          </nav>

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#图片隐写"><span class="nav-number">2.</span> <span class="nav-text">图片隐写</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#如何操作"><span class="nav-number">2.1.</span> <span class="nav-text">如何操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#原理"><span class="nav-number">2.2.</span> <span class="nav-text">原理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么图片数据拼接了其他数据后还能正常显示"><span class="nav-number">2.2.1.</span> <span class="nav-text">为什么图片数据拼接了其他数据后还能正常显示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么生成的图片修改了后缀之后能正常解压"><span class="nav-number">2.2.2.</span> <span class="nav-text">为什么生成的图片修改了后缀之后能正常解压</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#如何判别是否隐藏数据"><span class="nav-number">2.3.</span> <span class="nav-text">如何判别是否隐藏数据</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#音频隐写"><span class="nav-number">3.</span> <span class="nav-text">音频隐写</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#文件流隐写"><span class="nav-number">4.</span> <span class="nav-text">文件流隐写</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#其余格式文件也可以完成文件流隐写"><span class="nav-number">4.1.</span> <span class="nav-text">其余格式文件也可以完成文件流隐写</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#压缩文件流数据的注意事项"><span class="nav-number">4.1.1.</span> <span class="nav-text">压缩文件流数据的注意事项</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#如何查看文件中隐藏的文件流数据"><span class="nav-number">4.2.</span> <span class="nav-text">如何查看文件中隐藏的文件流数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#运行截图"><span class="nav-number">4.2.1.</span> <span class="nav-text">运行截图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#可能的用途"><span class="nav-number">4.2.2.</span> <span class="nav-text">可能的用途</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HTML-隐写"><span class="nav-number">5.</span> <span class="nav-text">HTML 隐写</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ZIP-伪加密"><span class="nav-number">6.</span> <span class="nav-text">ZIP 伪加密</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ZIP-文件格式"><span class="nav-number">6.1.</span> <span class="nav-text">ZIP 文件格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#首先是压缩源文件数据区"><span class="nav-number">6.1.1.</span> <span class="nav-text">首先是压缩源文件数据区</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#紧接着是压缩源文件目录区"><span class="nav-number">6.1.2.</span> <span class="nav-text">紧接着是压缩源文件目录区</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#压缩源文件目录结束标识"><span class="nav-number">6.1.3.</span> <span class="nav-text">压缩源文件目录结束标识</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#REF"><span class="nav-number">7.</span> <span class="nav-text">REF</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#随笔"><span class="nav-number">8.</span> <span class="nav-text">随笔</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <div id="aplayer" class="aplayer" data-id="2228455822" data-server="netease" data-type="playlist" data-mode="random"></div>

    <footer id="footer" class="footer">
      <div class="footer-image"></div>
      <div class="footer-inner">
        <p>博客已萌萌哒运行<span id="since"></span><span class="my-face">(●'◡'●)ﾉ♥</span></p>
<p></p>

<p>© <span itemprop="copyrightYear">2019</span> 陷陣之誌，有死無生.
    Powered By <a href="https://hexo.io/" target="_blank" class="external" rel="nofollow">Hexo</a>.
    Theme By <a href="https://github.com/DIYgod/hexo-theme-sagiri" target="_blank" class="external" rel="nofollow">Sagiri</a>.
    Made with ♥ by <a href="https://github.com/lanc4r" target="_blank"><span class="author" itemprop="copyrightHolder">Lanc4r</span></a>. 
</p>
<p><span id="busuanzi_container_site_pv">(/ω＼*)……… (/ω•＼*) 目前共有 <span id="busuanzi_value_site_uv"></span> 位来访者 ♥ 共计浏览次数 <span id="busuanzi_value_site_pv"></span> 次 (/▽＼)</span></p>
        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    


    <canvas id="evanyou"></canvas>
    <canvas id="live2d" width="150" height="400" class="live2d"></canvas>

    

  </div>

  <script type="text/javascript" src="/js/sagiri.min.js?v=0.0.4"></script>

  





  

  
  

  

  

  


  <!-- 页面点击小红心 -->
  <script type="text/javascript" src="/js/love.js"></script>

  <!-- 头像的 animated 效果 -->
  <script type="text/javascript" src="/js/animated.js"></script>

  <!-- 站内搜索 search 文件，以及搜索按钮初始化代码 -->
  <script type="text/javascript" src="/js/search.js"></script>
  <script type="text/javascript" id="local.search.active">
    window.onload = function (){
      var inputArea       = document.querySelector("#local-search-input");
      inputArea.onclick   = function(){ getSearchFile(); this.onclick = null }
      inputArea.onkeydown = function(){ if(event.keyCode == 13) return false }
    }
  </script>

  <!-- aplayer 播放器 -->
  <script type="text/javascript" src="/js/Meting.min.js"></script>

  <!-- 点击变为少女祈祷中 -->
  <script type="text/javascript">
    $(document).ready(function (){
       $(".post-title-link").click(function (){
           $(this).text("少女祈祷中……");
       });
    });
  </script>

  <!-- 不蒜子 计数器 -->
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  <!-- 输入框输入内容 屏幕抖动效果 
  <script type="text/javascript" src="/js/activate-power-mode.js"></script>
  <script type="text/javascript">
    // 由于 livere 不是访问页面时候就加载，所以需要写一个监听函数，判断当其DOM结构发生变化时再进行设置
    //$("#comments").bind('DOMNodeInserted', function (e){
    POWERMODE.colorful = 'true';    // make power mode colorful
    POWERMODE.shake = 'false';       // turn off shake
    // TODO 这里根据具体情况修改
    document.body.addEventListener('input', POWERMODE);
    //});
  </script>-->

</body>
</html>
